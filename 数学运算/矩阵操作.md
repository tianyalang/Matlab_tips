[toc]

## 矩阵运算

### 随机阵

```matlab
rand(3)        % 3*3, (0,1)
rand(3,4)      % 3*4, (0,1)
10*rand(5,1)   % 5*1, (0,10)

randi(5, n)          % 随机整数阵 n*n, [1,5]
randi([10 50], 1, 5) % 1*5, [10,50]

rand + 1i*rand % 随机复数，实、虚部均在 (0,1)

magic(n) % n*n 魔术阵, 每行、每列和相等, 由 1~n^2 填充
```

### 查找

```matlab
A =

     8     6     8     2
     8     6     3     9
     3     5     3     6

>> find(A<5, 3) % 前3个小于5的数，返回下标(矩阵数据按列存储)
ans =

     3
     8
     9

>> [i,j] = ind2sub([3,4], ans) % 下标转行、列坐标
i =

     3
     2
     3

j =

     1
     3
     3
```

### 逆序、翻转

```matlab
A = 
     'no word, no bond, row on.'

>> flip(A)
ans =
     '.no wor ,dnob on ,drow on'

x =
     7     4     7
     8     8     1

>> flip(x) % 按第1维翻转, =flipud(x)
ans =

     8     8     1
     7     4     7

>> flip(x,2) % 按第2维翻转, =fliplr(x)
ans =

     7     4     7
     1     8     8

>> rot90(x)  % 逆时针90
ans =

     7     1
     4     8
     7     8
```

### 求和

```matlab
sum(a)     % 列求和，默认按第1个维度求和
sum(a, 2)  % 行求和
```

### 向量与矩阵相加减

把行向量加到矩阵的每一行，或者列向量加到矩阵的每一列。

(1) 高版本（亲测2018b）支持直接相加

```matlab
a =
     1     2     3
     4     5     6
b =
     1     2     1
c =
     1
     2

>> a + b
ans =
     2     4     4
     5     7     7

>> a + c
ans =
     2     3     4
     6     7     8
```

(2) 低版本（亲测2014b）不支持，只支持相同维度的矩阵加减
想要实现二者加减，需先扩充低维向量，利用 `repmat` 函数复制行或列

```matlab
b =
     1     2     1

>> repmat(b, [2, 1])
ans =
     1     2     1
     1     2     1

>> a + b
ans =

     2     4     4
     5     7     7

c =
     1
     2
>> repmat(c, [1, 2])
ans =
     1     1
     2     2
```

### 其它函数

- `squeeze` 降孤维
- `permute` 改变维度显示顺序
- `nonzeros` 去除0元素
- `median` 返回均值
